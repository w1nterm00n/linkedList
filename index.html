<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linked list</title>
</head>
<body>
    
</body>

<script>

    const LinkedList = () => {
        let nodeNull = new Node (null, null);
        let head = new Node('head', nodeNull);

        const Append = (value) => {
            let node = head;
            while (node) {
                if (node.next == null) {
                    var newNode = new Node (value, nodeNull);
                    node.next = newNode;
                    return;
                }
                node = node.next;
            }
        }

        const Prepend = (value) => {
            //prepend(value) adds a new node containing value to the start of the list
            var newNode = new Node (value);
            newNode.next = head.next;
            head.next = newNode;
        }

        const ShowHead = () => {
            console.log(head);
        }
       
        const Size = () => {
            let count = 0; 
            let node = head;
            while (node) {
                count++;
                node = node.next
            }
            return count;
        }

        const ShowTail = () => {
             //tail returns the last node in the list
            let node = head;
            while (node) {
                    if (node.next == null) {
                        return node;
                    }
                node = node.next;
            }
        }

        const ShowNode = (index) => {
            //at(index) returns the node at the given index
            let i = 0; 
            let node = head;
            while (node) {
                if (i == index) {
                    return node;
                } else {
                    node = node.next;
                    i++;
                }
            }
            return;
        }

        //contains(value) returns true if the passed in value is in the list and otherwise returns false.
        const Contains = (value) => { 
            let node = head;
            while (node) {
                if (node.value == value) {
                    return true;
                }
                node = node.next
            }
            return false;
        }

        const Find = (value) => { 
            let index = 0;
            let node = head;
            while (node) {
                if (node.value == value) {
                    return index;
                }
                node = node.next
                index++;
            }
            return null;
        }

        //pop removes the last element from the list
        const Pop = () => {
            let size = Size() -1;
            let previousNode = ShowNode(size-1);
            previousNode.next = null;
            return;
        }

        const toString = () => {
            let node = head;
            let input = "";
            while (node) {
                input = input + "(" + node.value + ") -> ";
                    if (node.next == null) {
                        input = input + "null";
                        return input;
                    }
                node = node.next
            }
            return input;
        }

        return {head, nodeNull, Append, Prepend, ShowHead, ShowNode, 
            ShowTail, Size, Contains, Find, Pop, toString};

    };


    class Node {
        constructor(value) {
            this.value = value
            this.next = null              
        }
    }


    const list = LinkedList();
    list.Append('one');
    list.Append('two');
    list.Append('three');
</script>
</html>